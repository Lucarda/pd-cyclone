#N canvas 302 203 356 269 10;
#X obj 232 59 inlet~;
#X obj 166 59 inlet~;
#X obj 84 59 inlet~;
#X obj 103 176 outlet~;
#N canvas 153 28 720 290 bit-crush 0;
#X obj 435 102 expr~ pow(2 \, int($v1)) / 2;
#X obj 435 69 clip~ 1 24;
#X obj 89 187 expr~ if($v1 >= 0 \, $v2 \, $v3);
#X obj 368 155 expr~ (int($v1 * $v2) / $v2) - (1 / $v2);
#X obj 435 38 inlet~;
#X obj 171 47 inlet~;
#X obj 89 227 outlet~;
#X obj 171 151 expr~ int($v1 * $v2) / $v2;
#X text 389 138 if negative;
#X text 176 134 if positive;
#X text 436 18 bits;
#X text 275 191 conditional switch;
#X connect 0 0 3 1;
#X connect 0 0 7 1;
#X connect 1 0 0 0;
#X connect 2 0 6 0;
#X connect 3 0 2 2;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 5 0 3 0;
#X connect 7 0 2 1;
#X restore 84 113 pd bit-crush;
#N canvas 191 41 482 280 downsamp 0;
#X obj 55 68 inlet~;
#X obj 370 74 inlet~;
#X obj 55 163 outlet~;
#X text 369 47 ratio;
#X obj 55 105 fexpr~ if($y2[-1] >= 1 || $y2 == 0 \, $x1[0] \, $y1[-1])
\; $x2[0] + $y3[-1] \; fmod($x2[0] + $y3[-1] \, 1);
#X text 215 182 similar to downsamp~;
#X connect 0 0 4 0;
#X connect 1 0 4 1;
#X connect 4 0 2 0;
#X restore 103 146 pd downsamp;
#X connect 0 0 4 1;
#X connect 1 0 5 1;
#X connect 2 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
